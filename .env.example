# ============================================================================
# Project Athena Configuration
# ============================================================================
# Copy this file to .env and configure for your installation.
#
# LEGEND:
#   REQUIRED - Service will fail to start without this
#   RECOMMENDED - Has default but should be changed for production
#   OPTIONAL - Has sensible default, change if needed
# ============================================================================

# ============================================================================
# REQUIRED - No defaults, services fail fast if missing
# ============================================================================

# Database password - MUST be set
# Generate: openssl rand -base64 24 | tr -d '/+='
ATHENA_DB_PASSWORD=

# Admin API URL - REQUIRED for service coordination
# Docker: http://admin-backend:8080
# Kubernetes: http://athena-admin-backend.athena-admin.svc.cluster.local:8080
# Local development: http://localhost:8080
ADMIN_API_URL=

# Security keys for admin backend - MUST be unique per installation
# Generate each: openssl rand -base64 32
ENCRYPTION_KEY=
SESSION_SECRET_KEY=
JWT_SECRET=

# Encryption salt for API key storage
# Generate: openssl rand -base64 16
ENCRYPTION_SALT=

# ============================================================================
# RECOMMENDED - Has defaults but review for production
# ============================================================================

# Database connection (password still REQUIRED above)
ATHENA_DB_HOST=localhost
ATHENA_DB_PORT=5432
ATHENA_DB_NAME=athena
ATHENA_DB_USER=athena

# Admin database (defaults to main database host with _admin suffix)
# ATHENA_ADMIN_DB_HOST=${ATHENA_DB_HOST}
# ATHENA_ADMIN_DB_PORT=${ATHENA_DB_PORT}
# ATHENA_ADMIN_DB_NAME=athena_admin
# ATHENA_ADMIN_DB_USER=${ATHENA_DB_USER}

# ============================================================================
# OPTIONAL - Sensible defaults for development
# ============================================================================

# ----------------------------------------------------------------------------
# Infrastructure Services
# ----------------------------------------------------------------------------

# Ollama LLM Server (default: localhost:11434)
OLLAMA_HOST=localhost
OLLAMA_PORT=11434
# Or specify full URL (overrides host/port):
# OLLAMA_URL=http://ollama:11434
# Or use legacy env var:
# LLM_SERVICE_URL=http://ollama:11434

# Qdrant Vector Database (default: localhost:6333)
QDRANT_HOST=localhost
QDRANT_PORT=6333
# Or specify full URL:
# QDRANT_URL=http://qdrant:6333

# Redis Cache (default: localhost:6379)
REDIS_HOST=localhost
REDIS_PORT=6379
# Or specify full URL:
# REDIS_URL=redis://redis:6379/0

# ----------------------------------------------------------------------------
# Service Ports
# ----------------------------------------------------------------------------
GATEWAY_HOST=0.0.0.0
GATEWAY_PORT=8000

ORCHESTRATOR_HOST=0.0.0.0
ORCHESTRATOR_PORT=8001

ADMIN_PORT=8080

# ----------------------------------------------------------------------------
# Personalization (all optional, leave blank for no defaults)
# ----------------------------------------------------------------------------
DEFAULT_CITY=
DEFAULT_STATE=
DEFAULT_COUNTRY=US
DEFAULT_TIMEZONE=UTC

# Default Amtrak station code (for train schedules)
# DEFAULT_AMTRAK_STATION=

# ----------------------------------------------------------------------------
# Module Enables
# ----------------------------------------------------------------------------
# All modules default to enabled for backwards compatibility.
# Set to "false" to disable.

MODULE_HOME_ASSISTANT=true
MODULE_GUEST_MODE=true
MODULE_NOTIFICATIONS=true
MODULE_JARVIS_WEB=true    # Browser-based voice interface
MODULE_MONITORING=false   # Default off - requires Prometheus/Grafana setup

# ----------------------------------------------------------------------------
# Module Service URLs (for service discovery)
# ----------------------------------------------------------------------------
# Override these if services are on different hosts or use DNS names
# MODE_SERVICE_URL=http://mode-service:8022
# NOTIFICATIONS_SERVICE_URL=http://notifications:8050
# JARVIS_WEB_URL=http://jarvis-web:3001
# PROMETHEUS_URL=http://prometheus:9090
# GRAFANA_URL=http://grafana:3000

# Health check cache TTL (seconds)
MODULE_HEALTH_CACHE_TTL=30

# ----------------------------------------------------------------------------
# Home Assistant Module (if MODULE_HOME_ASSISTANT=true)
# ----------------------------------------------------------------------------
# Credentials can be set here OR via admin backend (recommended for security)
# Leave blank if configuring via admin backend
HA_URL=
HA_TOKEN=

# Get a Long-Lived Access Token from Home Assistant:
# 1. Go to your Home Assistant profile
# 2. Scroll to "Long-Lived Access Tokens"
# 3. Click "Create Token"
# 4. Give it a name (e.g., "Project Athena")
# 5. Copy the token here

# ----------------------------------------------------------------------------
# Voice Services (Wyoming Protocol)
# ----------------------------------------------------------------------------
WYOMING_STT_HOST=localhost
WYOMING_STT_PORT=10300
WYOMING_TTS_HOST=localhost
WYOMING_TTS_PORT=10200

# ============================================================================
# RAG Services - API Keys
# ============================================================================
# All API keys can also be configured via the admin backend.
# Keys here override admin backend configuration.

# ──────────────────────────────────────────────────────────────────────────
# Weather Service - Port 8010
# ──────────────────────────────────────────────────────────────────────────
# OpenWeatherMap API
# Free tier: 1,000 calls/day
# Sign up: https://openweathermap.org/api
OPENWEATHER_API_KEY=

# ──────────────────────────────────────────────────────────────────────────
# Sports Service - Port 8012
# ──────────────────────────────────────────────────────────────────────────
# TheSportsDB API
# Free tier available
# Sign up: https://www.thesportsdb.com/api.php
THESPORTSDB_API_KEY=

# ──────────────────────────────────────────────────────────────────────────
# News Service - Port 8017
# ──────────────────────────────────────────────────────────────────────────
# NewsAPI
# Free tier: 100 requests/day, 7 days of history
# Sign up: https://newsapi.org/register
NEWSAPI_KEY=

# ──────────────────────────────────────────────────────────────────────────
# Events Service - Port 8014
# ──────────────────────────────────────────────────────────────────────────
# Ticketmaster Discovery API
# Free tier: 5,000 API calls/day
# Sign up: https://developer.ticketmaster.com/products-and-docs/apis/getting-started/
TICKETMASTER_API_KEY=

# ──────────────────────────────────────────────────────────────────────────
# Stocks Service - Port 8016
# ──────────────────────────────────────────────────────────────────────────
# Alpha Vantage API
# Free tier: 5 API requests/minute, 500 requests/day
# Sign up: https://www.alphavantage.co/support/#api-key
ALPHA_VANTAGE_API_KEY=

# ──────────────────────────────────────────────────────────────────────────
# Recipes Service - Port 8020
# ──────────────────────────────────────────────────────────────────────────
# Spoonacular Food API
# Free tier: 150 requests/day
# Sign up: https://spoonacular.com/food-api
SPOONACULAR_API_KEY=

# ──────────────────────────────────────────────────────────────────────────
# Dining Service - Port 8019
# ──────────────────────────────────────────────────────────────────────────
# Yelp Fusion API
# Free tier: 5,000 API calls/day
# Sign up: https://www.yelp.com/developers/v3/manage_app
YELP_API_KEY=

# ──────────────────────────────────────────────────────────────────────────
# Streaming Service - Port 8015
# ──────────────────────────────────────────────────────────────────────────
# The Movie Database (TMDB) API
# Free tier: 1 million requests/month
# Sign up: https://www.themoviedb.org/settings/api
TMDB_API_KEY=

# ──────────────────────────────────────────────────────────────────────────
# Flights Service - Port 8013
# ──────────────────────────────────────────────────────────────────────────
# FlightAware AeroAPI
# Pricing varies - check https://www.flightaware.com/commercial/aeroapi/pricing/
# Sign up: https://www.flightaware.com/commercial/aeroapi/
FLIGHTAWARE_API_KEY=

# ──────────────────────────────────────────────────────────────────────────
# WebSearch Service - Port 8018
# ──────────────────────────────────────────────────────────────────────────
# Brave Search API - Universal fallback for unknown questions
# Free tier: 2,000 queries/month
# Sign up: https://brave.com/search/api/
BRAVE_API_KEY=

# ============================================================================
# RAG Service URLs (Optional - defaults to localhost with standard ports)
# ============================================================================
# Customize if deployed elsewhere or using Docker/Kubernetes service names
# RAG_WEATHER_URL=http://localhost:8010
# RAG_AIRPORTS_URL=http://localhost:8011
# RAG_SPORTS_URL=http://localhost:8012
# RAG_FLIGHTS_URL=http://localhost:8013
# RAG_EVENTS_URL=http://localhost:8014
# RAG_STREAMING_URL=http://localhost:8015
# RAG_STOCKS_URL=http://localhost:8016
# RAG_NEWS_URL=http://localhost:8017
# RAG_WEBSEARCH_URL=http://localhost:8018
# RAG_DINING_URL=http://localhost:8019
# RAG_RECIPES_URL=http://localhost:8020
# RAG_DIRECTIONS_URL=http://localhost:8030

# ============================================================================
# Authentication (Optional - for admin interface SSO)
# ============================================================================

# Authentik OIDC Configuration (if using Authentik SSO)
# AUTHENTIK_CLIENT_ID=
# AUTHENTIK_CLIENT_SECRET=
# AUTHENTIK_ISSUER_URL=https://auth.example.com/application/o/athena/

# ============================================================================
# Development Settings
# ============================================================================

# Environment (development, staging, production)
ENVIRONMENT=development

# Enable debug logging
DEBUG=true

# ============================================================================
# Container Registry (for Kubernetes deployments)
# ============================================================================
CONTAINER_REGISTRY=docker.io
CONTAINER_NAMESPACE=athena-voice

# ============================================================================
# API Key Quick Reference
# ============================================================================
#
# All services offer free tiers suitable for personal/development use.
#
# **Recommended Order for Setup:**
# 1. OpenWeatherMap (weather) - Most commonly used
# 2. Brave Search (websearch) - CRITICAL fallback for unknown questions
# 3. NewsAPI (news) - Useful for daily briefings
# 4. TMDB (streaming) - Movie/TV recommendations
# 5. Spoonacular (recipes) - Cooking assistance
# 6. Yelp (dining) - Restaurant recommendations
# 7. Ticketmaster (events) - Event discovery
# 8. Alpha Vantage (stocks) - Financial data
# 9. FlightAware (flights) - Flight tracking (requires paid tier)
#
# **Free Tier Limits Summary:**
# - OpenWeatherMap: 1,000 calls/day
# - Brave Search: 2,000 queries/month
# - NewsAPI: 100 requests/day, 7 days history
# - Ticketmaster: 5,000 calls/day
# - Alpha Vantage: 5/min, 500/day
# - Spoonacular: 150/day
# - Yelp: 5,000/day
# - TMDB: 1 million/month
# - FlightAware: Paid tiers only
#
# **Rate Limiting Strategy:**
# - All services use Redis caching to minimize API calls
# - Cache TTLs configured per service (1min - 24hrs)
# - Consider upgrading to paid tiers for production use
#
# ============================================================================
