---
apiVersion: v1
kind: ConfigMap
metadata:
  name: athena-config
  namespace: athena-prod
data:
  # ==========================================================================
  # LLM Backend Configuration
  # ==========================================================================
  # Choose one of the following options:
  #
  # Option 1: In-cluster Ollama (default, for testing)
  #   OLLAMA_URL: "http://ollama:11434"
  #
  # Option 2: External Ollama server
  #   OLLAMA_URL: "http://<server-ip>:11434"
  #
  # Option 3: MLX-LM on Apple Silicon (OpenAI-compatible)
  #   OLLAMA_URL: "http://<mac-ip>:8080/v1"
  #
  # Option 4: OpenAI API
  #   OLLAMA_URL: "https://api.openai.com/v1"
  #   (Also set OPENAI_API_KEY in secrets)
  #
  # Both Ollama and MLX-LM provide OpenAI-compatible APIs.
  # ==========================================================================
  OLLAMA_URL: "http://ollama:11434"

  # ==========================================================================
  # LLM Model Configuration (OSS Defaults)
  # ==========================================================================
  # Default model for all orchestrator components. On first startup:
  #   1. Database is seeded with LLM backend and component assignments
  #   2. Model is auto-pulled from Ollama if not already available
  #
  # Recommended models (quality vs speed tradeoff):
  #   - qwen3:4b (default) - Best balance for most tasks
  #   - phi3:mini          - Faster but less capable
  #   - llama3.2:3b        - Good alternative
  #
  # Set ATHENA_SEED_DEFAULTS to "false" to skip automatic database seeding
  # Set ATHENA_AUTO_PULL_MODELS to "false" to skip automatic model downloading
  # ==========================================================================
  ATHENA_DEFAULT_MODEL: "qwen3:4b"
  ATHENA_SEED_DEFAULTS: "true"
  ATHENA_AUTO_PULL_MODELS: "true"

  # Service URLs (internal cluster DNS - usually no need to change)
  ADMIN_API_URL: "http://athena-admin-backend:8080"
  GATEWAY_URL: "http://athena-gateway:8000"
  ORCHESTRATOR_URL: "http://athena-orchestrator:8001"
  REDIS_URL: "redis://redis:6379/0"
  QDRANT_URL: "http://qdrant:6333"

  # MLX-LM server (optional - for Apple Silicon acceleration)
  # Set to your Mac's IP if running MLX-LM server
  # Leave empty or comment out if not using MLX
  MLX_URL: ""

  # ==========================================================================
  # Domain Configuration
  # ==========================================================================
  # Update these to match your domain. Used by services for URLs/redirects.
  # For local-only deployment, use any domain and add to /etc/hosts:
  #   127.0.0.1 athena.local chat.local
  # ==========================================================================
  ATHENA_DOMAIN: "athena.local"
  CHAT_DOMAIN: "chat.local"
  FRONTEND_URL: "https://athena.local"

  # Feature flags
  DEMO_MODE: "false"
  MODULE_HOME_ASSISTANT: "true"
  MODULE_GUEST_MODE: "true"
  MODULE_NOTIFICATIONS: "true"
  MODULE_JARVIS_WEB: "true"
  MODULE_MONITORING: "false"

  # Logging
  LOG_LEVEL: "INFO"
